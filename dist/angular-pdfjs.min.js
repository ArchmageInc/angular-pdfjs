!function(a,b,c,d){"use strict";d.module("angular-pdfjs",[]).run(function(){c.verbosity=c.VERBOSITY_LEVELS.errors}).directive("pdfViewer",["$parse",function(){return{restrict:"A",controller:["$scope","$q",function(e,f){function g(){d.extend(T,{page:0,rotation:0,offsetX:0,offsetY:0,scale:1,width:0,height:0}),d.extend(U,T,{page:1}),d.extend(V,U),N=null,S.viewport=null}function h(){N=null,d.extend(T,U),d.extend(V,T),e.$applyAsync()}function i(){return M&&K&&!N&&!d.equals(T,U)}function j(a){d.extend(S,{page:1,rotation:a.rotation,offsetX:a.offsetX,offsetY:a.offsetY,scale:a.scale,width:a.width,height:a.height},S),U.width=U.width||S.width,U.height=U.height||S.height}function k(){return i()?N=M.getPage(U.page).then(function(a){var b,d;j(a.getViewport(1)),L=a,b=[0,0,S.width,S.height],d=new c.PageViewport(b,U.scale,U.rotation,U.offsetX,U.offsetY),l(),N=a.render({canvasContext:K,viewport:d}).then(function(){h()})}):X}function l(){var a=U.rotation%180?U.height:U.width,b=U.rotation%180?U.width:U.height;I.css({width:a+"px",height:b+"px"}),J.attr("width",a),J.attr("height",b)}function m(){return o(T.page-1)}function n(){return o(T.page+1)}function o(a){return a=0===a?1:a,a=a>R?R:a,V.page=a,a=parseInt(a),isNaN(a)?X:(U.page=a,k())}function p(a){return V.width=a,a=parseFloat(a),!isNaN(a)&&a>0?(U.width=a,k()):X}function q(a){return V.height=a,a=parseFloat(a),!isNaN(a)&&a>0?(U.height=a,k()):X}function r(a){return a=isNaN(parseFloat(a))?O:parseFloat(a),t(T.scale+a)}function s(a){return a=isNaN(parseFloat(a))?O:parseFloat(a),t(T.scale-a)}function t(a){return V.scale=a,a=parseFloat(a),!isNaN(a)&&a>0?(U.scale=a,k()):X}function u(a){return a=isNaN(parseFloat(a))?P:parseFloat(a),y(T.offsetX+a,T.offsetY)}function v(a){return a=isNaN(parseFloat(a))?P:parseFloat(a),y(T.offsetX-a,T.offsetY)}function w(a){return a=isNaN(parseFloat(a))?P:parseFloat(a),y(T.offsetX,T.offsetY+a)}function x(a){return a=isNaN(parseFloat(a))?P:parseFloat(a),y(T.offsetX,T.offsetY-a)}function y(a,b){var c=T.rotation%180?T.height:T.width,d=T.rotation%180?T.width:T.height,e=c-T.scale*c,f=d-T.scale*d;return a=e>a?e:a,a=a>0?0:a,b=f>b?f:b,b=b>0?0:b,V.offsetX=a,V.offsetY=b,a=parseFloat(a),b=parseFloat(b),isNaN(a)||isNaN(b)?X:(U.offsetX=a,U.offsetY=b,k())}function z(a){return V.offsetX=a,B({x:a,y:V.offsetY})}function A(a){return V.offsetY=a,B({x:V.offsetX,y:a})}function B(a){return a=a||{},y(a.x,a.y)}function C(){return E(T.rotation-Q)}function D(){return E(T.rotation+Q)}function E(a){return V.rotation=a,a=parseFloat(a),isNaN(a)?X:(U.rotation=90*b.round(a/90),k())}function F(a){return a?N=c.getDocument(a).then(function(a){return g(),M=a,R=M.numPages,k()}):X}function G(a,b){I=a,J=b,K=J[0].getContext("2d")}function H(){return M}var I,J,K,L,M,N,O=.25,P=10,Q=90,R=0,S={},T={},U={},V={offset:{}},W=f.defer(),X=W.promise;a.defineProperties(V.offset,{x:{set:z,get:function(){return V.offsetX}},y:{set:A,get:function(){return V.offsetY}}}),a.defineProperties(this,{setHeight:{value:q},setWidth:{value:p},zoomIn:{value:r},zoomOut:{value:s},zoomTo:{value:t},panLeft:{value:u},panRight:{value:v},panUp:{value:w},panDown:{value:x},panTo:{value:y},rotateLeft:{value:C},rotateRight:{value:D},rotateTo:{value:E},nextPage:{value:n},previousPage:{value:m},goToPage:{value:o},loadDocument:{value:F},setElements:{value:G},getDocument:{value:H},total:{set:d.noop,get:function(){return R}},page:{set:o,get:function(){return V.page}},width:{set:p,get:function(){return V.width}},height:{set:q,get:function(){return V.height}},zoom:{set:t,get:function(){return V.scale}},rotation:{set:E,get:function(){return V.rotation}},offsetX:{set:u,get:function(){return V.offsetX}},offsetY:{set:w,get:function(){return V.offsetY}},offset:{set:B,get:function(){return V.offset}},loading:{set:d.noop,get:function(){return N}}}),W.resolve(),g()}],link:function(a,b,c,e){function f(a){e.loadDocument(a)}function g(a){a.preventDefault(),a.stopImmediatePropagation();var b=a.originalEvent&&a.originalEvent.wheelDelta||a.wheelDelta;e.zoomIn(b/100)}function h(a){a.preventDefault(),a.stopImmediatePropagation();var b=a.originalEvent&&a.originalEvent.x||a.x,c=a.originalEvent&&a.originalEvent.y||a.y;k={x:b-o.x,y:c-o.y}}function i(a){a.preventDefault(),a.stopImmediatePropagation(),k=null}function j(a){a.preventDefault(),a.stopImmediatePropagation();var b=a.originalEvent&&a.originalEvent.x||a.x,c=a.originalEvent&&a.originalEvent.y||a.y;k&&(e.offset=o={x:b-k.x,y:c-k.y})}var k=null,l=d.element("<canvas></canvas>"),m=d.element("<div></div>"),n=d.extend({mouseZoom:!0,mousePan:!0},a.$eval(c.pdfViewer)),o={x:0,y:0};e.setElements(m,l),m.append(l),b.append(m),m.css({overflow:"hidden"}),c.id&&(a[c.$normalize(c.id)]=e),n.mouseZoom&&m.on("wheel",g),n.mousePan&&(l.css({cursor:"move"}),m.on("touchstart mousedown",h),m.on("touchmove mousemove",j),m.on("touchend touchleave touchcancel mouseup mouseleave",i)),a.$on("$destroy",function(){m.off()}),a.$watch(c.pdfUrl,f)}}}])}(Object,Math,PDFJS,angular);
//# sourceMappingURL=angular-pdfjs.min.js.map